<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ping-Pong</title>
    <link rel="stylesheet" type="text/css" href="style.css"
</head>
<body>
    <canvas></canvas> //Ao usar o canvas, lembrar que é uma estrura onde ela será sobreposta com as outras camadas.
    <script>
        const canvasE1 = document.querySelector("canvas"),
            canvasCtx = canvasE1.getContext("2d")

        const lineWidth = 15

        const gapX = 10

        const field = {
            w: window.innerWidth,
            h: window.innerHeight,
            draw: function(){
                canvasCtx.fillStyle = "#286047" //cor para o campo.
                canvasCtx.fillRect(0,0,this.w,this.h) // Comando usado para definir uma área retangular. Servirá para criar os campos de ambos os lados no jogo
            }
        }

        const line = {
            w: 15,
            h: field.h,
            draw: function(){
              //Linha Central
            canvasCtx.fillStyle = "#ffffff"
            canvasCtx.fillRect(field.w/2 - this.w/2,0,this.w,this.h)
            }
        }

        const leftPaddle = {
             //desenho da raquete esquerda
            x: gapX,
            y: 100,
            w: line.w,
            h: 200,
            draw: function(){
            canvasCtx.fillRect(this.x,this.y,this.w,this.h)
            }
        }

        const rigthPaddle = {
            x: field.w - line.w - gapX,
            y: 100,
            w: line.w,
            h: 200,

            //desenho daa raquete direita
            draw: function(){
                 canvasCtx.fillRect(this.x,this.y,this.w,this.h)
            }
        }

        const ball = {
            x: 300,
            y: 200,
            r: 20,
            draw: function(){
                //desenhando a Bolinha
            canvasCtx.beginPath() //não há um comando fillarc, devido a isso deve ser estipulado um beginpath e um fill para finalizar o traçado do arco.
            canvasCtx.arc(this.x,this.y,this.r,0,2*Math.PI,false)
            canvasCtx.fill()
            }
        }


        function setup(){
            canvasE1.width = canvasCtx.width = field.w //definição da largura. no JS quando há repetitividade de campos como esses, podemos declarar uma variavel recebendo a outra que por sua vez recebe o valor definido
            canvasE1.height = canvasCtx.height = field.h   
        }

        function draw(){
            field.draw()
            line.draw()
            leftPaddle.draw()
            rigthPaddle.draw()
            ball.draw()

            //desenhando o placar
            canvasCtx.font = "bold 72px Arial"
            canvasCtx.textAlign = "center"
            canvasCtx.textBaseline = "top"
            canvasCtx.fillStyle = "#33ffda"
            canvasCtx.fillText("5",window.innerWidth / 4,50)
            canvasCtx.fillText("2",window.innerWidth / 4 + window.innerWidth / 2,50)
        }

        setup() //lembrar de declarar as funções para que entrem em vigor
        draw()
    </script>
</body>
</html>